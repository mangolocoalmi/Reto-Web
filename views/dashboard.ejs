<!DOCTYPE html>

<head>
    <title>Document</title>
    <style>
        body {
            margin: 0;
            padding-bottom: 3rem;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }
    </style>
</head>

<body>
    <ul id="messages"></ul>
</body>
<script src="/socket.io/socket.io.js"></script>
<script>
    // var socket = io("ws://192.168.4.18:3000", { transports : ['websocket'] });
    var socket = io("ws://192.168.1.60:3000", { transports: ['websocket'] });

    socket.on("connect", () => {
        console.log(socket.id);
    });

    socket.on('sensor', (temp, hum) => {
        console.log("temperatura " + temp);
        console.log("humedad " + hum);
        var item = document.createElement('li');
        item.textContent = "temperatura: " + temp + " - humedad: " + hum;
        messages.appendChild(item);
        window.scrollTo(0, document.body.scrollHeight);
    });
</script>
</body>

</html>